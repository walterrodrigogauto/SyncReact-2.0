<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>SyncReact</title>
  <link rel="stylesheet" href="styles.css" />
</head>

<body>
  <header>
    <h1>SyncReact</h1>
  </header>

  <main>
    <section class="setup">
      <input
        type="text"
        id="videoA"
        placeholder="URL del video original (YouTube)"
      />
      <button id="loadVideo">Cargar video</button>
    </section>

    <section class="videos">
      <!-- üëá CONTENEDOR PARA YOUTUBE API (NO iframe) -->
      <div id="playerA"></div>

      <video id="playerB" autoplay muted></video>
      <button id="startCam">Activar c√°mara</button>
      <button id="downloadReaction">Descargar reacci√≥n</button>
      <p id="recordStatus">üé• Esperando</p>
    </section>

    <section class="ads">
      <p>Ads placeholder</p>
    </section>
  </main>

  <!-- üé• C√ÅMARA -->
  <script>
    const startBtn = document.getElementById('startCam');
    const camVideo = document.getElementById('playerB');

    startBtn.addEventListener('click', async () => {
      try {
        const stream = await navigator.mediaDevices.getUserMedia({
          video: true,
          audio: true
        });
        camVideo.srcObject = stream;
        camVideo.play();
      } catch (err) {
        alert('Permisos de c√°mara o micr√≥fono denegados');
        console.error(err);
      }
    });
  </script>

  <!-- ‚úÖ ORDEN CORRECTO -->
  <script src="https://www.youtube.com/iframe_api"></script>
  <script src="src/sync.js"></script>
</body>
</html>


